/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{415:function(Ca,va,r){r.r(va);r.d(va,"ByteRangeRequest",function(){return ba});var oa=r(1),la=r(0);r.n(la);var ka=r(2),ha=r(144);Ca=r(89);var da=r(238),z=r(69),w=r(66),x=r(237),f=r(159);r=r(360);var a=[],b=[],e=window,n=function(){return function(){this.ul=1}}(),h;(function(aa){aa[aa.UNSENT=0]="UNSENT";aa[aa.DONE=4]="DONE"})(h||(h={}));var ba=function(){function aa(fa,ca,ea,ia){var ja=this;this.url=fa;this.range=ca;this.Pe=ea;
this.withCredentials=ia;this.$Z=h;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);e.Uint8Array&&(this.request.responseType="arraybuffer");ia&&(this.request.withCredentials=ia);y.DISABLE_RANGE_HEADER||(Object(la.isUndefined)(ca.stop)?this.request.setRequestHeader("Range","bytes="+ca.start):this.request.setRequestHeader("Range",["bytes=",ca.start,"-",ca.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");ea&&Object.keys(ea).forEach(function(na){ja.request.setRequestHeader(na,
ea[na])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=x.a.NOT_STARTED}aa.prototype.start=function(fa){var ca=this,ea=this.request;ea.onreadystatechange=function(){if(ca.aborted)return ca.status=x.a.ABORTED,fa({code:x.a.ABORTED});if(this.readyState===ca.$Z.DONE){ca.iB();var ia=0===window.document.URL.indexOf("file:///");200===ea.status||206===ea.status||ia&&0===ea.status?
(ia=e.wR(this),ca.WK(ia,fa)):(ca.status=x.a.ERROR,fa({code:ca.status,status:ca.status}))}};this.request.send(null);this.status=x.a.STARTED};aa.prototype.WK=function(fa,ca){this.status=x.a.SUCCESS;if(ca)return ca(!1,fa)};aa.prototype.abort=function(){this.iB();this.aborted=!0;this.request.abort()};aa.prototype.iB=function(){var fa=Object(f.c)(this.url,this.range,b);-1!==fa&&b.splice(fa,1);if(0<a.length){fa=a.shift();var ca=new aa(fa.url,fa.range,this.Pe,this.withCredentials);fa.request=ca;b.push(fa);
ca.start(Object(f.d)(fa))}};aa.prototype.extend=function(fa){var ca=Object.assign({},this,fa.prototype);ca.constructor=fa;return ca};return aa}(),y=function(aa){function fa(ca,ea,ia,ja,na){ia=aa.call(this,ca,ia,ja)||this;ia.wl={};ia.Iz=ea;ia.url=ca;ia.DISABLE_RANGE_HEADER=!1;ia.uw=ba;ia.NL=3;ia.Pe=na||{};return ia}Object(oa.c)(fa,aa);fa.prototype.Fu=function(ca,ea,ia){var ja=-1===ca.indexOf("?")?"?":"&";switch(ia){case !1:case w.a.NEVER_CACHE:ca=ca+ja+"_="+Object(la.uniqueId)();break;case !0:case w.a.CACHE:ca=
ca+ja+"_="+ea.start+","+(Object(la.isUndefined)(ea.stop)?"":ea.stop)}return ca};fa.prototype.BP=function(ca,ea,ia,ja){void 0===ia&&(ia={});return new this.uw(ca,ea,ia,ja)};fa.prototype.C6=function(ca,ea,ia,ja,na){for(var ma=0;ma<a.length;ma++)if(Object(la.isEqual)(a[ma].range,ea)&&Object(la.isEqual)(a[ma].url,ca))return a[ma].mg.push(ja),a[ma].hC++,null;for(ma=0;ma<b.length;ma++)if(Object(la.isEqual)(b[ma].range,ea)&&Object(la.isEqual)(b[ma].url,ca))return b[ma].mg.push(ja),b[ma].hC++,null;ia={url:ca,
range:ea,Iz:ia,mg:[ja],hC:1};if(0===a.length&&b.length<this.NL)return b.push(ia),ia.request=this.BP(ca,ea,na,this.withCredentials),ia;a.push(ia);return null};fa.prototype.an=function(ca,ea,ia){var ja=this.Fu(ca,ea,this.Iz);(ca=this.C6(ja,ea,this.Iz,ia,this.Pe))&&ca.request.start(Object(f.d)(ca));return function(){var na=Object(f.c)(ja,ea,b);if(-1!==na){var ma=--b[na].hC;0===ma&&b[na].request&&b[na].request.abort()}else na=Object(f.c)(ja,ea,a),-1!==na&&(ma=--a[na].hC,0===ma&&a.splice(na,1))}};fa.prototype.bR=
function(){return{start:-ha.a}};fa.prototype.P9=function(){var ca=-(ha.a+ha.e);return{start:ca-ha.d,end:ca}};fa.prototype.Yr=function(ca){var ea=this;this.Pz=!0;var ia=ha.a;this.an(this.url,this.bR(),function(ja,na,ma){function ra(){var sa=ea.Gd.YQ();ea.an(ea.url,sa,function(ua,pa){if(ua)return Object(ka.j)("Error loading central directory: "+ua),ca(ua);pa=Object(z.a)(pa);if(pa.length!==sa.stop-sa.start)return ca("Invalid XOD file: Zip central directory data is wrong size! Should be "+(sa.stop-sa.start)+
" but is "+pa.length);ea.Gd.CU(pa);ea.UF=!0;ea.Pz=!1;return ca(!1)})}if(ja)return Object(ka.j)("Error loading end header: "+ja),ca(ja,na,ma);na=Object(z.a)(na);if(na.length!==ia)return ca("Invalid XOD file: Zip end header data is wrong size!");try{ea.Gd=new da.a(na)}catch(sa){return ca(sa)}ea.Gd.saa?ea.an(ea.url,ea.P9(),function(sa,ua){if(sa)return Object(ka.j)("Error loading zip64 header: "+sa),ca(sa);ua=Object(z.a)(ua);ea.Gd.Kaa(ua);ra()}):ra()})};fa.prototype.tR=function(ca){ca(Object.keys(this.Gd.Cm))};
fa.prototype.JJ=function(ca,ea){var ia=this;if(this.Gd.tP(ca)){var ja=this.Gd.cB(ca);if(ja in this.wl){var na=this.vh[ca];na.Tq=this.wl[ja];na.Tq.ul++;na.cancel=na.Tq.cancel}else{var ma=this.Gd.i8(ca),ra=this.an(this.url,ma,function(ua,pa){ua?(Object(ka.j)('Error loading part "'+ca+'": '+ua),ia.an(ia.url,ma,function(qa,wa){if(qa)return ea(qa,ca);ia.GU(wa,ma,ja,ca,ea)})):ia.GU(pa,ma,ja,ca,ea)}),sa=this.vh[ca];sa&&(sa.DW=!0,sa.cancel=function(){sa.Tq.ul--;0===sa.Tq.ul&&(ra(),delete ia.wl[ja])},this.wl[ja]=
new n(ja),sa.Tq=this.wl[ja],sa.Tq.cancel=sa.cancel)}}else delete this.vh[ca],ea(Error('File not found: "'+ca+'"'),ca)};fa.prototype.GU=function(ca,ea,ia,ja,na){if(ca.length!==ea.stop-ea.start)na(Error("Part data is wrong size!"),ja);else{do{if(!this.wl[ia])return;ja=this.wl[ia].ul;for(var ma=ea.Ip.length,ra=0;ra<ma;++ra){var sa=ea.Ip[ra];na(!1,sa.Ep,ca["string"===typeof ca?"substring":"subarray"](sa.start,sa.stop),this.Gd.pS(sa.Ep));sa.Ep in this.vh&&delete this.vh[sa.Ep]}}while(ja!==this.wl[ia].ul);
delete this.wl[ia]}};fa.DISABLE_RANGE_HEADER=!1;fa.NL=3;return fa}(Ca.a);(function(aa){function fa(ca,ea,ia){var ja=aa.call(this)||this,na;for(na in ca)ja[na]=ca[na];ja.Bla=ca;ja.startOffset=ea;ja.endOffset=ia;ja.BP=function(ma,ra,sa,ua){Object(la.isUndefined)(ra.stop)?(ra.start+=ja.endOffset,ra.stop=ja.endOffset):(ra.start+=ja.startOffset,ra.stop+=ja.startOffset);ma=ja.Fu(ja.url,ra,ja.Iz);return new ca.uw(ma,ra,sa,ua)};return ja}Object(oa.c)(fa,aa);return fa})(y);Object(r.a)(y);Object(r.b)(y);va["default"]=
y}}]);}).call(this || window)

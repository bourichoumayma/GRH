/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[14],{424:function(Ca,va,r){r.r(va);var oa=r(1),la=r(0);r.n(la);var ka=r(2),ha=r(144);Ca=r(52);var da=r(89),z=r(238),w=r(66),x=r(237);r=r(360);var f=window,a=function(){function n(h,ba,y){var aa=-1===h.indexOf("?")?"?":"&";switch(ba){case w.a.NEVER_CACHE:this.url=h+aa+"_="+Object(la.uniqueId)();break;default:this.url=h}this.Pe=y;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=x.a.NOT_STARTED}n.prototype.start=function(h,ba){var y=this,aa=this,fa=this.request,ca;aa.Nv=0;h&&Object.keys(h).forEach(function(ea){y.request.setRequestHeader(ea,h[ea])});ba&&(this.request.withCredentials=ba);this.FC=setInterval(function(){var ea=0===window.document.URL.indexOf("file:///");ea=200===fa.status||
ea&&0===fa.status;if(fa.readyState!==x.b.DONE||ea){try{fa.responseText}catch(ia){return}aa.Nv<fa.responseText.length&&(ca=aa.Xca())&&aa.trigger(n.Events.DATA,[ca]);0===fa.readyState&&(clearInterval(aa.FC),aa.trigger(n.Events.DONE))}else clearInterval(aa.FC),aa.trigger(n.Events.DONE,["Error received return status "+fa.status])},1E3);this.request.send(null);this.status=x.a.STARTED};n.prototype.Xca=function(){var h=this.request,ba=h.responseText;if(0!==ba.length)if(this.Nv===ba.length)clearInterval(this.FC),
this.trigger(n.Events.DONE);else return ba=Math.min(this.Nv+3E6,ba.length),h=f.wR(h,this.Nv,!0,ba),this.Nv=ba,h};n.prototype.abort=function(){clearInterval(this.FC);var h=this;this.request.onreadystatechange=function(){Object(ka.j)("StreamingRequest aborted");h.status=x.a.ABORTED;return h.trigger(n.Events.ABORTED)};this.request.abort()};n.prototype.finish=function(){var h=this;this.request.onreadystatechange=function(){h.status=x.a.SUCCESS;return h.trigger(n.Events.DONE)};this.request.abort()};n.Events=
{DONE:"done",DATA:"data",ABORTED:"aborted"};return n}();Object(Ca.a)(a);var b;(function(n){n[n.LOCAL_HEADER=0]="LOCAL_HEADER";n[n.FILE=1]="FILE";n[n.CENTRAL_DIR=2]="CENTRAL_DIR"})(b||(b={}));var e=function(n){function h(){var ba=n.call(this)||this;ba.buffer="";ba.state=b.LOCAL_HEADER;ba.OK=4;ba.il=null;ba.cs=ha.c;ba.Cm={};return ba}Object(oa.c)(h,n);h.prototype.Rca=function(ba){var y;for(ba=this.buffer+ba;ba.length>=this.cs;)switch(this.state){case b.LOCAL_HEADER:this.il=y=this.ada(ba.slice(0,this.cs));
if(y.Ks!==ha.g)throw Error("Wrong signature in local header: "+y.Ks);ba=ba.slice(this.cs);this.state=b.FILE;this.cs=y.MF+y.vp+y.Tu+this.OK;this.trigger(h.Events.HEADER,[y]);break;case b.FILE:this.il.name=ba.slice(0,this.il.vp);this.Cm[this.il.name]=this.il;y=this.cs-this.OK;var aa=ba.slice(this.il.vp+this.il.Tu,y);this.trigger(h.Events.FILE,[this.il.name,aa,this.il.aG]);ba=ba.slice(y);if(ba.slice(0,this.OK)===ha.h)this.state=b.LOCAL_HEADER,this.cs=ha.c;else return this.state=b.CENTRAL_DIR,!0}this.buffer=
ba;return!1};h.Events={HEADER:"header",FILE:"file"};return h}(z.a);Object(Ca.a)(e);Ca=function(n){function h(ba,y,aa,fa,ca){aa=n.call(this,ba,aa,fa)||this;aa.url=ba;aa.stream=new a(ba,y);aa.Gd=new e;aa.lU=window.createPromiseCapability();aa.MU={};aa.Pe=ca;return aa}Object(oa.c)(h,n);h.prototype.Dw=function(ba){var y=this;this.request([this.Mi,this.gk,this.Li]);this.stream.addEventListener(a.Events.DATA,function(aa){try{if(y.Gd.Rca(aa))return y.stream.finish()}catch(fa){throw y.stream.abort(),y.Qu(fa),
ba(fa),fa;}});this.stream.addEventListener(a.Events.DONE,function(aa){y.vca=!0;y.lU.resolve();aa&&(y.Qu(aa),ba(aa))});this.Gd.addEventListener(e.Events.HEADER,Object(la.bind)(this.LU,this));this.Gd.addEventListener(e.Events.FILE,Object(la.bind)(this.qda,this));return this.stream.start(this.Pe,this.withCredentials)};h.prototype.tR=function(ba){var y=this;this.lU.promise.then(function(){ba(Object.keys(y.Gd.Cm))})};h.prototype.jn=function(){return!0};h.prototype.request=function(ba){var y=this;this.vca&&
ba.forEach(function(aa){y.MU[aa]||y.Oha(aa)})};h.prototype.LU=function(){};h.prototype.abort=function(){this.stream&&this.stream.abort()};h.prototype.Oha=function(ba){this.trigger(da.a.Events.PART_READY,[{Wa:ba,error:"Requested part not found",Th:!1,Ff:!1}])};h.prototype.qda=function(ba,y,aa){this.MU[ba]=!0;this.trigger(da.a.Events.PART_READY,[{Wa:ba,data:y,Th:!1,Ff:!1,error:null,Rc:aa}])};return h}(da.a);Object(r.a)(Ca);Object(r.b)(Ca);va["default"]=Ca}}]);}).call(this || window)
